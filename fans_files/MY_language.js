function setLanguage(e,a){$.cookie("language",e,{path:"/",expires:10950}),window.USERID?$.post("/me/setting/language/post/",{language:e,csrfmiddlewaretoken:csrf},function(e){e.error?alert_message(i18n.t("msg_server_error")):a()}).fail(function(){alert_message(i18n.t("msg_server_error"))}):a()}function onChangeLangSuccess(){bridgeCallHandler("showPopUp",{popUp:{message:i18n.t("msg_language_updated"),buttonType:1,okText:i18n.t("label_ok")}},function(e){$.query.keys.prev_url?BJUtil.navigate(decodeURIComponent($.query.keys.prev_url),!0):history.back()})}function onPCChangeLangSuccess(){$(".language-wrapper").addClass("hidden"),bridgeCallHandler("showPopUp",{popUp:{message:i18n.t("msg_language_updated"),buttonType:1,okText:i18n.t("label_ok")}},function(e){location.reload()})}$(function(){var e="";e=3==window.devicePixelRatio||2.99==window.devicePixelRatio?banner3x:2==window.devicePixelRatio?banner2x:banner1x,location.pathname.indexOf("my_ms_language")!=-1&&($(".header").remove(),$(".header-holder").remove()),$(".banner").attr("src",e),$(".language-wrapper li").on("tap",function(e){e.stopImmediatePropagation();var a=$(e.currentTarget).data("lang-key");a&&setLanguage(a,onPCChangeLangSuccess)}),$("li").on("tap",function(e){$("li").removeClass("selected"),$(e.currentTarget).addClass("selected")}),$("#btn-change-language").on("tap",function(e){var a=$("li.selected").data("lang-key");a?setLanguage(a,onChangeLangSuccess):alert_message(i18n.t("msg_must_select_language"))}),$(".ic_selectlanguage_close").on("tap",function(){$(".language-wrapper").addClass("hidden"),window.sessionStorage.setItem("ignoreLanguageSetting",1)})});
//# sourceMappingURL=../../source_maps/me/MY_language.js.map
